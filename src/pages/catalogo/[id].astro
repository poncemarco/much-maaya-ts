---
import { fetchItem, fetchItems } from '../../services/items';
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
    const items = await fetchItems()
    return items.map((item) => {
        return {
            params: { id: item.id },
            props: { item }
        };
    });
}

const { id } = Astro.params;
const { item } = Astro.props;

const title = item?.name || 'Item';

---

<Layout title={title}>
  <article>
    <h1>{item?.name}</h1>
    <p>{item?.description}</p>
  </article>
</Layout>